\hypertarget{profiler__example_8cpp_source}{\section{profiler\-\_\-example.\-cpp}
}

\begin{DoxyCode}
00001 
00002 
00003 \textcolor{preprocessor}{#include <stdio.h>}
00004 \textcolor{preprocessor}{#include <time.h>}
00005 
00006 \textcolor{preprocessor}{#include "\hyperlink{_p_r_o_f_i_l_i_n_g__tools_8h}{PROFILING_tools.h}"}
00007 
\hypertarget{profiler__example_8cpp_source_l00008}{}\hyperlink{class_my__class}{00008} \textcolor{keyword}{class }\hyperlink{class_my__class}{My_class}\{
00009 \textcolor{keyword}{private}:
00010 \textcolor{keyword}{protected}:      
00011 \textcolor{keyword}{public}:
00012         \hyperlink{class_my__class}{My_class}():I(0)\{\};
00013         \textcolor{keyword}{volatile} \textcolor{keywordtype}{float} I;
00014         \textcolor{keyword}{inline} \textcolor{keywordtype}{void} Increment\_I()\{
00015                 \textcolor{keywordflow}{for}(uint16\_t i = 0; i <1000; ++i)\{
00016                         this->I += 1.;
00017                 \}
00018         \};
00019 \};
00020 
\hypertarget{profiler__example_8cpp_source_l00021}{}\hyperlink{struct_my__struct}{00021} \textcolor{keyword}{typedef} \textcolor{keyword}{struct }\hyperlink{struct_my__struct}{My_struct}\{
00022         \textcolor{keyword}{volatile} \textcolor{keywordtype}{float} I;
00023 \}\hyperlink{struct_my__struct}{My_struct};
00024 
00025 \textcolor{keyword}{static} \textcolor{keyword}{inline} \_\_attribute\_\_((always\_inline))
00026 void Increment\_I(\hyperlink{struct_my__struct}{My_struct} *struct\_ptr)\{
00027     \hyperlink{_p_r_o_f_i_l_i_n_g__tools_8h_a632f3afa2c72dd938e2a5d7e9c1e202e}{PROFILER_local_start}();
00028         \textcolor{keywordflow}{for}(uint16\_t i = 0; i <100; ++i)\{
00029                 printf(\textcolor{stringliteral}{"some message:)!\(\backslash\)n"});
00030                 struct\_ptr->I += 1.;
00031     \}
00032     \hyperlink{_p_r_o_f_i_l_i_n_g__tools_8h_ad8354a6502e89adea8535f4029a15b5f}{PROFILER_local_stop}();
00033 \}
00034 
00035 \hyperlink{class_my__class}{My_class} obj;
00036 \hyperlink{struct_my__struct}{My_struct} str;
00037 
00038 \textcolor{keywordtype}{int} main(\textcolor{keywordtype}{int} argc, \textcolor{keywordtype}{char} *argv[])\{
00039         PROFILER\_global\_start();
00040         
00041     \hyperlink{_p_r_o_f_i_l_i_n_g__tools_8h_a632f3afa2c72dd938e2a5d7e9c1e202e}{PROFILER_local_start}();
00042     Increment\_I(&str);
00043     \hyperlink{_p_r_o_f_i_l_i_n_g__tools_8h_ad8354a6502e89adea8535f4029a15b5f}{PROFILER_local_stop}();
00044 
00045     \hyperlink{_p_r_o_f_i_l_i_n_g__tools_8h_a632f3afa2c72dd938e2a5d7e9c1e202e}{PROFILER_local_start}();
00046     Increment\_I(&str);
00047     \hyperlink{_p_r_o_f_i_l_i_n_g__tools_8h_ad8354a6502e89adea8535f4029a15b5f}{PROFILER_local_stop}();
00048 
00049     \hyperlink{_p_r_o_f_i_l_i_n_g__tools_8h_a632f3afa2c72dd938e2a5d7e9c1e202e}{PROFILER_local_start}();
00050     Increment\_I(&str);
00051     \hyperlink{_p_r_o_f_i_l_i_n_g__tools_8h_ad8354a6502e89adea8535f4029a15b5f}{PROFILER_local_stop}();
00052         
00053         \hyperlink{group___xD0_x9F_xD0_xBE_xD1_x80_xD1_x82_xD0_xB8_xD1_x80_xD1_x83_xD0_xB5_xD0_xBC_xD0_xB0_xD1_x8F_2ef1b31e26d7139e4bfe94879d1322e3_ga425fb9e92c3523ab2a3581d2cbefb5ce}{PROFILER_global_stop}();
00054         \hyperlink{group___xD0_x9F_xD0_xBE_xD1_x80_xD1_x82_xD0_xB8_xD1_x80_xD1_x83_xD0_xB5_xD0_xBC_xD0_xB0_xD1_x8F_2ef1b31e26d7139e4bfe94879d1322e3_ga2f57ecff908155818a48144e366f7c57}{PROFILER_log}();
00055         \textcolor{keywordflow}{return} 0;
00056 \};
00057 
\end{DoxyCode}
